
# ADR-004: Initial vector store for RAG

## Date
2025-12-04
## Status
Accepted

## Context
The MolSys-AI agent needs to access documentation and code via RAG:
- Sphinx documentation for MolSysMT, MolSysViewer, TopoMT,
- docstrings,
- usage examples.

It is necessary to choose a vector-store backend for the MVP.

## Decision
Use **local FAISS** as the initial vector store.

## Options considered

### 1. Local FAISS (chosen)
**Pros:**
- Very fast on CPU/GPU.
- Does not require external services.
- Easy to package and distribute.
- Ideal for small/medium indices on a single node.

**Cons:**
- Not natively distributed or multi-node.

### 2. Chroma
**Pros:**
- Simple, user-friendly API.
- Built-in persistence.

**Cons:**
- Requires a dedicated server or additional process.
- Heavier for an MVP.

### 3. Weaviate / Milvus / Vespa
**Pros:**
- High performance and scalability.
- Advanced search features.

**Cons:**
- Overkill for the initial size of the project.
- Adds significant operational complexity.

## Justification
FAISS lets us move quickly without adding infrastructure complexity.  
The `server/rag/` module will abstract the interface so we can change the backend later without impacting the agent.

## Consequences
- Simple and portable implementation.
- Easily replaceable by another backend if the data volume grows.

## Future notes
- Revisit the choice when the index grows significantly or replication/distribution is required.
