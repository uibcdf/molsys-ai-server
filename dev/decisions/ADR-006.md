# ADR-006: Technical basis for the MolSys-AI CLI

## Date
2025-12-04

## Status
Proposed

## Context

MolSys-AI will have a CLI where advanced users (researchers, developers) can run:

- queries to the agent,
- tools from the MolSysMT/MolSysViewer/TopoMT ecosystem,
- automated workflows.

The CLI should be:

- robust and pleasant to use,
- clear in its output,
- easy to extend,
- installable via `pip`,
- compatible with Linux/macOS (with limited Windows support).

We also want a modern UX:

- color,
- readable formatting,
- room for an interactive mode later,
- without heavy dependencies for the MVP.

## Decision

Implement the MVP CLI using:

- Standard library `argparse` for parsing and subcommands.
- `rich` for formatting, color, and prompts.

The initial interface can remain minimal, while keeping an obvious path toward:

- subcommands (`molsys-ai chat`, `molsys-ai tools list`, etc.),
- an interactive shell mode if needed later.

## Options considered

### 1. `argparse` + `rich` (chosen)

Pros:

- No heavy dependencies.
- Great UX for a scientific CLI (panels, colors, readable errors).
- Easy to test and keep stable.

Cons:

- Advanced shell features (autocomplete, multiline input) require extra work.

### 2. Typer + rich

Pros:

- Modern ergonomics and autogenerated help.
- Good rich integration.

Cons:

- Extra dependency layer (click).
- Less explicit control over CLI behaviour during early iterations.

### 3. Click

Pros:

- Very common in Python tooling.

Cons:

- More verbose than needed for this MVP.
- Not designed as a shell-like experience by default.

### 4. `prompt_toolkit`

Pros:

- Excellent for a true interactive shell (history, completion, multiline input).

Cons:

- Overkill for the MVP.
- More complex integration and testing.

## Consequences

Positive:

- Simple CLI baseline with good readability from day one.
- Clear migration path to richer interaction without redesigning everything.

Negative:

- No built-in autocomplete in the MVP.
