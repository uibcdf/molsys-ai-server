
# ADR-008: Python development environment and tooling

## Date
2025-12-04
## Status
Accepted

## Context
MolSys-AI requires a clean, modern, and maintainable development base.
The project will be written mostly in Python.

## Decision
- Minimum Python version: **3.10** (preferred: **3.12**)
- Tooling:
  - **ruff** (linter + formatter)
  - **pytest** for tests
  - **mypy** for optional type checking
  - **conda/mamba** or **uv/pip** as environment manager (developer’s choice)
- Packaging standard: `pyproject.toml` with simple `setuptools`.

For MolSysSuite tools (MolSysMT, MolSysViewer, TopoMT, elastnet, pharmacophoremt, etc.),  
the preferred installation route is the laboratory’s `uibcdf` conda channel.

We provide:
- an `environment.yml` file as the recommended way to create a fully featured conda/mamba environment, and
- optional development dependencies via `pyproject.toml` (`pip install -e ".[dev]"`).

## Options considered
### 1. ruff + pytest + mypy (chosen)
**Pros**
- Fast and modern.
- `ruff` replaces flake8/isort/black.
- Very good development experience.

**Cons**
- Requires learning ruff configuration (minimal).

### 2. black + flake8 + isort
**Pros**
- Very well-known.

**Cons**
- Slower.
- Less integrated.

### 3. Poetry as manager
**Pros**
- Very convenient.

**Cons**
- Overhead for a multi-component project.

## Consequences
- Project aligned with the modern scientific ecosystem.
- Makes it easier to maintain code quality.
 - conda/mamba users can get a fully reproducible environment (including MolSysSuite tools) with a single command.
 - pip/uv users can still use the repository with a minimal Python-only toolchain.

## Future notes
- Evaluate integrating `pre-commit` hooks when the project matures.
