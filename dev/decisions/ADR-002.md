
# ADR-002: Registro de modelos en Hugging Face Hub

## Fecha
2025-12-04

## Estado
Aceptada

## Contexto
MolSys-AI necesita un mecanismo para:
- almacenar modelos y LoRAs,
- versionarlos,
- distribuirlos fácilmente,
- desacoplar entrenamiento (nodo 2) de inferencia (nodo 1).

## Decisión
Usar **Hugging Face Hub**, organización `uibcdf`, como registro oficial de modelos.

## Opciones consideradas

### 1. Hugging Face Hub (elegida)
**Pros:**
- Versionado nativo basado en git.
- Fácil uso con CLI y API Python.
- Permite separar modelo base y LoRA.
- Excelente integración con frameworks (transformers, TGI, vLLM, llama.cpp).
- Otros usuarios pueden descargar y ejecutar los modelos en local.
**Contras:**
- No es un servicio autoalojado.

### 2. DVC + servidor propio
**Pros:**
- 100% open-source y autoalojado.
- Control completo de la infraestructura.

**Contras:**
- Mayor complejidad operativa.
- No proporciona de forma nativa una experiencia “Hub” para terceros.

### 3. Git LFS en GitHub
**Pros:**
- Simplicidad de integración con el repositorio de código.

**Contras:**
- Límites de tamaño y ancho de banda.
- No escalable para modelos grandes.

## Justificación
Hugging Face Hub es el estándar de facto para publicar y versionar modelos.  
Permite que cualquiera descargue MolSys-AI y lo ejecute en su entorno.  
Reduce la complejidad operativa y permite concentrarse en el agente.

## Consecuencias
- Repos de modelos separados de repos de código.
- Flujo claro:
  - Nodo 2 (entrenamiento) → push a HF.
  - Nodo 1 (producción) → pull desde HF.

## Notas futuras
- Si HF cambiase políticas o hubiera requisitos de soberanía de datos, se puede migrar a un registro autoalojado (DVC/lakeFS).
